<div class="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
    
                <button class="btn btn-sm btn-outline-danger" id="user_not_eligible">Not eligible This time</button></div>
                <span>
                    <br>
                    <h4 class="page-title">
                      Cycle<select id="chngInspCycl">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </h4>
                </span>
            </div>
            <div class="col-lg-12">
                <div class="border p-2 shadow bg-white mt-3" id="form_div">
                    
                </div>
            </div>
            <hr>
            <div class="col-lg-12">
                <button class="btn btn-sm btn-outline-info" id="user_inspect_submit">Submit</button>
                <button class="btn btn-sm btn-outline-info" id="user_view_prev_submitted">View submission</button>
            </div>
        </div>
      
    </div>
    <div class="container-fluid">
        <div class="row">
        </div>
    </div>
</div>



<script>
    //-------------------------------------EDIT FORM / NEW FORM----------------------------------
    var user = local_get("logged_user");

//     var tmp = 
// [
//     {
//         "type": "number",
//         "required": false,
//         "label": "Number",
//         "className": "form-control",
//         "name": "number-1621085223719",
//         "access": false,
//         "userData": [
//             ""
//         ]
//     },
//     {
//         "type": "select",
//         "required": false,
//         "label": "Select",
//         "className": "form-control",
//         "name": "select-1636966466193",
//         "access": false,
//         "multiple": false,
//         "values": [
//             {
//                 "label": "Option 1",
//                 "value": "option-1",
//                 "selected": true
//             },
//             {
//                 "label": "Option 2",
//                 "value": "option-2",
//                 "selected": false
//             },
//             {
//                 "label": "Option 3",
//                 "value": "option-3",
//                 "selected": false
//             }
//         ],
//         "userData": [
//             "option-3"
//         ]
//     },
//     {
//         "type": "file",
//         "required": false,
//         "label": "File Upload",
//         "className": "form-control",
//         "name": "file-1636966449378",
//         "access": false,
//         "subtype": "file",
//         "multiple": false,
//         "url": "http://localhost/mykido/back_img.jpg",
//     },
//     {
//         "type": "checkbox-group",
//         "required": false,
//         "label": "Checkbox Group",
//         "toggle": false,
//         "inline": false,
//         "name": "checkbox-group-1636966490725",
//         "access": false,
//         "other": false,
//         "values": [
//             {
//                 "label": "Option 1",
//                 "value": "option-1",
//                 "selected": false
//             },
//             {
//                 "label": "Option 2",
//                 "value": "option-2",
//                 "selected": false
//             }
//         ],
//         "userData": [
//             "option-1"
//         ]
//     },
//     {
//         "type": "radio-group",
//         "required": false,
//         "label": "Radio Group",
//         "inline": true,
//         "name": "radio-group-1636966532096",
//         "access": false,
//         "other": false,
//         "values": [
//             {
//                 "label": "Option 1",
//                 "value": "option-1",
//                 "selected": false
//             },
//             {
//                 "label": "Option 2",
//                 "value": "option-2",
//                 "selected": false
//             },
//             {
//                 "label": "Option 3",
//                 "value": "option-3",
//                 "selected": false
//             }
//         ],
//         "userData": [
//             "option-1"
//         ]
//     },
//     {
//         "type": "date",
//         "required": false,
//         "label": "Date Field",
//         "className": "form-control",
//         "name": "date-1623148593028",
//         "access": false,
//         "userData": [
//             "2021-11-03"
//         ]
//     }
// ];
    try{
        if(form_id){
            // var form_id = url.searchParams.get("form_id");
            var user_submitted = {};
            var filter = JSON.stringify({"id":form_id});
            var inspects = JSON.parse(requester(server,"POST",{'api':'get_inspect','filter':filter}));
            // console.log(inspects);
            var tmp = JSON.parse(inspects[0]['content']);
            var formRenderOpts = {
                dataType: 'json',
                formData: tmp
            };
            $("#title").text(inspects[0]['title']);
            // var renderedForm = $('<div>');
            // renderedForm.formRender(formRenderOpts);
            // $("#form_div").formRender(formRenderOpts);
            var formRenderInstance = $('#form_div').formRender(formRenderOpts);
            $("#form_div").find(".child").closest("div").css("display","none");
            // console.log($(".form-control[type='file']").length);
            // var formRenderInstance = $('#render-container').formRender(formRenderOptions);
            // console.log(inspects[0]['schedule']);
            // $("#form_div").html(renderedForm[0].innerHTML);
        }
    }catch(error){
        // console.log(error);
        cust_navigate("user_inspection");
    }

    
</script>